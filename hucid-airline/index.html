<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>HUCID Airlines</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

    <link href="assets/plugins/jquery.virtual_keyboard/jquery.virtual_keyboard.css" rel="stylesheet">

    <script src="assets/plugins/jquery.virtual_keyboard/jquery.virtual_keyboard.js"></script>


    <!-- Custom styles for this template -->
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }

        .bg {
            /* The image used */
            background-image: url("img/bg.jpeg");

            /* Full height */
            height: 100%;

            /* Center and scale the image nicely */
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed;
        }

        @media (min-width: 992px) {
            body {
                padding-top: 56px;
            }

            #countdown {
                top:0;
                left:240px;
                position: absolute;
                margin-top: 125px;
                height: 50px;
                width: 50px;
                text-align: center;
                z-index: 1;
            }

            #countdown-number {
                position: absolute;
                color: white;
                display: inline-block;
                line-height: 40px;
            }

            .custom-svg {
                position: absolute;
                top: 0;
                right: 0;
                width: 40px;
                height: 40px;
                transform: rotateY(-180deg) rotateZ(-90deg);
            }

            .custom-circle {
                position: absolute;
                stroke-dasharray: 113px;
                stroke-dashoffset: 0px;
                stroke-linecap: round;
                stroke-width: 2px;
                stroke: white;
                fill: none;
                animation: countdown 10s linear infinite forwards;
            }

            @keyframes countdown {
                from {
                    stroke-dashoffset: 0px;
                }
                to {
                    stroke-dashoffset: 113px;
                }
            }
            video {
                position:relative;
                z-index:0;
            }

        }

    </style>

</head>

<body class="bg">

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#"><i class="fab fa-telegram-plane"></i> HUCID Airlines</a>
        <button class="btn btn-primary" type="submit" data-toggle="modal" data-target="#myModal">
            <i class="fas fa-question-circle"></i> Help
        </button>
    </div>
</nav>


<!-- The Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h2 class="modal-title">Please Wait For an Assistant</h2>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body text-center">
                <h2 class="display-5">A Member of HUCID Airlines is on the Way.</h2>
                <img src="img/OhNo.png" style="width: 35%">
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">Staff Login</button>
            </div>

        </div>
    </div>
</div>

<!-- Page Content -->
<div class="container">
    <div class="row">
        <div class="container-fluid text-center">
            <h1 class="mt-5">Welcome to HUCID Airlines!</h1>
            <p class="lead">Please complete this form to check into your flight!</p>


            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                     style="width: 0;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="70"></div>
            </div>

            <br>
            <div>
                <ul id="myTab" class="nav nav-pills nav-justified" data-tabs="tabs">
                    <li class="nav-item">
                        <a id="navConsent" class="nav-link active" href="#consent" role="tab" data-toggle="tab">Consent
                            Form</a>
                    </li>
                    <li class="nav-item">
                        <a id="navCheckIn" class="nav-link" href="#step1" role="tab" data-toggle="tab">Check In</a>
                    </li>
                    <li class="nav-item">
                        <a id="navChooseMethod" class="nav-link" href="#step2" role="tab" data-toggle="tab">Choose
                            Method</a>
                    </li>
                    <li class="nav-item">
                        <a id="navScanPassport" class="nav-link" href="#step3" role="tab" data-toggle="tab">Scan
                            Passport</a>
                    </li>
                    <li class="nav-item">
                        <a id="navReferenceNumber" class="nav-link" href="#step4" role="tab" data-toggle="tab">Reference
                            Number</a>
                    </li>
                    <li class="nav-item">
                        <a id="navSelectBag" class="nav-link" href="#step5" role="tab" data-toggle="tab">Select
                            Baggage</a>
                    </li>
                    <li class="nav-item">
                        <a id="navWeighBag" class="nav-link" href="#step6" role="tab" data-toggle="tab">Weigh Bag</a>
                    </li>
                    <li class="nav-item">
                        <a id="navPayment" class="nav-link" href="#step7" role="tab" data-toggle="tab">Payment</a>
                    </li>
                    <li class="nav-item">
                        <a id="navFinish" class="nav-link" href="#step8" role="tab" data-toggle="tab">Finish</a>
                    </li>
                </ul>
            </div>

            <hr>

        </div>
    </div>


    <!-- Tab panes -->
    <div class="tab-content">

        <!-- Consent form tab -->
        <div class="tab-pane active" id="consent" role="tabpanel">


            <div class="jumbotron">
                <h1 class="display-4">Informed Consent Form:</h1>
                <p class="lead">Please read this consent form and agree before continuing.</p>
                <hr>
                <strong>Purpose:</strong>
                <p>We are interested in learning more about the usability of the Airport check in application we are
                    developing, and how we can make it easier to use. Also to gather out target audiences perspective of
                    the application.</p>

                <strong>Parcipation Methods:</strong>
                <p>Your Parcipatation will include:</p>
                <ul>
                    <li>Wearing the TOBII glasses in order to gather usability information about the application</li>
                    <li>Performing task in different scenarios in order to collect useful data</li>
                </ul>

                <b>Information Collected:</b>
                <ul>
                    <li>We will record the screen of the iPad capturing you actions</li>
                    <li>We will capture the video from the TOBII glasses, which may include audio</li>
                    <li>All personal data that is used will be private and confidential</li>
                    <li>All answers will be stored anonomously</li>
                </ul>

                <hr>

                <form>
                    <div class="form-check">

                        <div class="d-flex justify-content-start">
                            <div class="p-2">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox" value="">
                                    I agree to the above statements &amp; I am willing to participate in this
                                    experiment.
                                </label>
                            </div>

                            <div class="ml-auto p-2">
                                <button id="consentButton" onclick="addProgress(this.id)" class="btn btn-primary"
                                        style="float: right">Continue
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>

        <!-- check in tab -->
        <div class="tab-pane" id="step1" role="tabpanel">

            <div class="jumbotron">
                <div class="container-fluid text-center">
                    <h1 class="display-4">Check In:</h1>
                    <hr>

                    <div>
                        <button id="checkinButton" onclick="addProgress(this.id)" class="btn btn-primary btn-lg mt-2">
                            Check in
                        </button>
                    </div>

                    <br>

                    <div class="dropdown">
                        <button type="button" class="btn btn-success dropdown-toggle mt-2" data-toggle="dropdown">Select
                            Language
                        </button>

                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#">English</a>
                            <a class="dropdown-item" href="#">Spanish</a>
                            <a class="dropdown-item" href="#">French</a>
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step2" role="tabpanel">

            <div class="jumbotron text-center">
                <h1 class="display-4">Choose Method:</h1>
                <hr>
                <div class="container">
                    <div class="row">
                        <div class="col-md">
                            <button id="scanPassport" onclick="addProgress(this.id)" class="btn btn-primary btn-lg">Scan
                                Passport
                            </button>
                        </div>
                        <div class="col-md">
                            <button id="chooseReference" onclick="addProgress(this.id)"
                                    class="btn btn-secondary btn-lg">Enter
                                reference number
                            </button>
                        </div>
                    </div>
                </div>

            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step3" role="tabpanel">

            <div class="jumbotron text-center">
                <div class="container">
                    <h1 class="display-4">Scan Passport:</h1>
                    <hr>

                    <div class="row">
                        <div class="col-md">
                            <video id="video" width="280" height="280" autoplay class="embed-responsive">
                            </video>
                            <div id="countdown">
                                <div id="countdown-number"></div>
                                <svg class="custom-svg">
                                    <circle class="custom-circle" r="18" cx="20" cy="20"></circle>
                                </svg>
                            </div>
                        </div>
                        <div class="col-md">
                            <ul class="list-group bg-light">
                                <li class="list-group-item active">Face Passport Towards Camera</li>
                                <li class="list-group-item">Keep it Still Until Fully Scanned</li>
                                <li class="list-group-item">The Continue Button Will Appear Once it Has Completed
                                    Scanning
                                </li>
                                <li class="list-group-item"><img src="img/instructions.jpg" style="width: 100%;">
                                </li>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <button id="passportComplete" onclick="addProgress(this.id)" class="btn btn-primary btn-lg" style="float: right">Continue</button>
                    <br>
                </div>
            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step4" role="tabpanel">

            <div class="jumbotron text-center">
                <h1 class="display-4">Enter Reference Number:</h1>
                <hr>
                <div class="container">
                    <form>
                        <div class="form-group">
                            <input type="text" class="form-control input" id="bookingRef"
                                   placeholder="Enter Reference Number...">
                            <button id="enterReference" onclick="store(); addProgress(this.id);"
                                    class="btn btn-primary btn-lg mt-4" type="submit">Enter
                            </button>
                        </div>
                    </form>
                </div>
            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step5" role="tabpanel">

            <div class="jumbotron text-center">
                <div class="container">
                    <h1 class="display-4">Check in Your Baggage:</h1>
                    <hr>
                    <div class="row">
                        <div class="col-md">
                            <button id="bagCheck" onclick="addProgress(this.id)" class="btn btn-primary btn-lg">Check in
                                bag
                            </button>
                        </div>
                        <div class="col-md">
                            <button id="handLuggage" onclick="addProgress(this.id)" class="btn btn-secondary btn-lg">
                                Just hand
                                luggage
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step6" role="tabpanel">

            <div class="jumbotron text-center">
                <div class="container">
                    <h1 class="display-4">Your Allocated Luggage and Weight:</h1>
                    <hr>

                    <div class="row">
                        <div class="col-md">
                            <h3>Your Bag Weighs:</h3>
                            <h1 class="display-1">1Kg</h1>
                        </div>
                        <div class="col-md">
                            <ul class="list-group bg-light">
                                <li class="list-group-item active">Your checked Bag Allowence is:<br>90 x 75 x 43cm (35.5 x
                                    29.5 x 16in)
                                </li>
                                <li class="list-group-item">Make Sure You Packed Your Luggage Yourself</li>
                                <li class="list-group-item"> Maximum Allowed Weight: 26KG</li>
                                <li class="list-group-item">If Your Luggage Exceeds This Amount You Will Have To Pay
                                    More
                                </li>
                                <li class="list-group-item">Please Ensure You Have None of The Following in Your
                                    Luggage:
                                </li>
                                <li class="list-group-item"><img src="img/hazards.jpg" style="width: 100%;"></li>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <button id="luggageComplete" onclick="addProgress(this.id)" class="btn btn-primary btn-lg"
                            style="float: right">Continue
                    </button>
                    <br>
                </div>
            </div>

        </div>


        <!-- check in tab -->
        <div class="tab-pane" id="step7" role="tabpanel">

            <div class="jumbotron text-center">
                <div class="container">
                    <h1 class="display-4">Please Follow the instructions on the card machine:</h1>
                    <hr>
                    <p class="lead">Total Amount Due: £20</p>
                    <button id="paymentComplete" onclick="addProgress(this.id)" class="btn btn-primary btn-lg">Pay Now
                    </button>
                    <hr>
                    <div>
                        <i class="fab fa-apple-pay fa-5x"></i>
                    </div>
                    <img src="img/PaymentOptions.png" style="width: 25%">

                </div>
            </div>

        </div>

        <!-- check in tab -->
        <div class="tab-pane" id="step8" role="tabpanel">

            <div class="jumbotron text-center">
                <div class="container">
                    <h1 class="display-4">Thank you, your boarding pass is being printed now:</h1>
                    <i class="fas fa-print fa-5x"></i>
                    <hr>
                    <h1 id="bookingR"></h1>
                    <hr>
                    <p class="lead">You are traveling on flight:<b> B7889C</b></p>
                    <p class="lead">Please go to the boarding gate:<b> C32</b></p>
                    <p class="lead">Have a nice flight</p>

                </div>
            </div>
        </div>

    </div>
</div>

<footer class="container-fluid text-center">
    <p class="lead">HUCID Airlines&trade;</p>
</footer>


<!-- Navigation and Progress Script -->
<script>

    $(function () {
        var hash = window.location.hash;
        hash && $('ul.nav a[href="' + hash + '"]').tab('show');

        $('.nav-pills a').click(function (e) {
            $(this).tab('show');
            var scrollmem = $('body').scrollTop() || $('html').scrollTop();
            window.location.hash = this.hash;
            $('html,body').scrollTop(scrollmem);
        });
    });

    $('#consentButton').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step1"]').tab('show');
        $('#navConsent').addClass('disabled');
    });

    $('#checkinButton').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step2"]').tab('show');
        $('#navCheckIn').addClass('disabled');
    });

    $('#scanPassport').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step3"]').tab('show');
        $('#navChooseMethod').addClass('disabled');
        $('#navReferenceNumber').addClass('disabled');
    });

    $('#chooseReference').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step4"]').tab('show');
        $('#navChooseMethod').addClass('disabled');
        $('#navScanPassport').addClass('disabled');
    });

    $('#enterReference').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step5"]').tab('show');
        $('#navReferenceNumber').addClass('disabled');
    });

    $('#bagCheck').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step6"]').tab('show');
        $('#navSelectBag').addClass('disabled');
    });

    $('#handLuggage').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step8"]').tab('show');
        document.getElementById("bookingR").innerHTML = "Reference:" + " " + sessionStorage.getItem("bookingRef");
        $('#navSelectBag').addClass('disabled');
        $('#navWeighBag').addClass('disabled');
        $('#navPayment').addClass('disabled');
    });

    $('#passportComplete').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step5"]').tab('show');
        $('#navScanPassport').addClass('disabled');

    });

    $('#luggageComplete').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step7"]').tab('show');
        $('#navWeighBag').addClass('disabled');
    });
    $('#paymentComplete').click(function (e) {
        e.preventDefault();
        $('#myTab a[href="#step8"]').tab('show');
        document.getElementById("bookingR").innerHTML = "Reference:" + " " + sessionStorage.getItem("bookingRef");
        $('#navPayment').addClass('disabled');
    });

    var clicks = 0;

    function addProgress(id) {
        if (id === "consentButton") {
            $('.progress-bar').width(12.5 + '%');
        } else if (id === "checkinButton") {
            $('.progress-bar').width(25 + '%');
        } else if (id === "scanPassport"){
            $('.progress-bar').width(37.5 + '%');
            onstepPassport();
        }else if (id === "chooseReference") {
            $('.progress-bar').width(37.5 + '%');
        } else if (id === "enterReference" || id === "passportComplete") {
            $('.progress-bar').width(50 + '%');
        } else if (id === "bagCheck") {
            animateKG();
            $('.progress-bar').width(62.5 + '%');
        } else if (id === "luggageComplete") {
            $('.progress-bar').width(85 + '%');
        } else if (id === "paymentComplete" || id === "handLuggage") {
            $('.progress-bar').width(100 + '%');
        }

    }

</script>


<!-- Session Storage Script -->
<script type="text/javascript">
    function store() {
        var inputEventName = document.getElementById("bookingRef");
        sessionStorage.setItem("bookingRef", inputEventName.value);
    }
</script>


<!-- Passport Scanning Script -->
<script>

    var video = document.getElementById('video');

    // Get access to the camera!
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        // Not adding `{ audio: true }` since we only want video now
        navigator.mediaDevices.getUserMedia({video: true}).then(function (stream) {
            video.src = window.URL.createObjectURL(stream);
            video.play();
        });
    }

</script>

<!--Countdown passport -->
<script>

    function onstepPassport() {
        var countdownNumberEl = document.getElementById('countdown-number');
        var countdown = 10;
        var img = document.createElement("img");
        var ctd = document.getElementsByClassName('col-md');
        var video = document.getElementById('video');
        var btnClick = document.getElementById('passportComplete');


        countdownNumberEl.textContent = countdown;



        var interval = setInterval(function() {
            countdown = --countdown <= 0 ? 10 : countdown;

            countdownNumberEl.textContent = countdown;
            setTimeout(stopNdisplay(), 1000);
        }, 1000);


        function stopNdisplay() {
            if(countdown === 1) {
                clearInterval(interval);
                img.src = "img/7efy.gif";
                video.remove();
                img.style.margin = "0 auto";
                ctd[2].innerHTML = "";
                ctd[2].appendChild(img);
                setTimeout(clk, 2000);
            }
        }

        function clk() {
            btnClick.click();
        }
    }

</script>

<script>

    function animateKG() {

        var target = 22;

        var intervalkg = setInterval(function() {

            var numbers = document.getElementsByClassName("display-1");
            var number = parseInt(numbers[0].firstChild.nodeValue.replace( /^\D+/g, ''));
            number++;
            console.log(number);
            if (number >= target) {
                clearInterval(intervalkg);
                setTimeout(cliclnextkg, 2000);
            }
            numbers[0].innerHTML = number +"Kg";

        }, 60);
    }
    
    function cliclnextkg() {
        var nextbtn = document.getElementById("luggageComplete");

        nextbtn.click();

    }

</script>

<script>
    $('#bookingRef').keyboard();

</script>

</body>
</html>
